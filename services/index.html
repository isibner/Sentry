<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="description" content="A flexible, simple continuous integration server for code quality.">
  <title>Service API</title>
  <!-- Favicon stuff -->
  <link rel="apple-touch-icon" sizes="57x57" href="/sentry/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/sentry/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/sentry/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/sentry/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/sentry/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/sentry/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/sentry/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/sentry/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/sentry/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/sentry/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/sentry/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/sentry/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/sentry/favicons/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,600|Lato:300,400,900' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/sentry/css/vendor/normalize.css">
  <link rel="stylesheet" href="/sentry/css/vendor/bootstrap.min.css">
  <link rel="stylesheet" href="/sentry/css/vendor/bootstrap-social.css">

  <!-- Theme CSS -->
  <link rel="stylesheet" href="/sentry/css/vendor/theme.css">

  <!-- HighlightJS CSS -->
  <link rel="stylesheet" type="text/css" href="/sentry/css/hljs-theme-github.css">

  <!-- base CSS -->
  <link rel="stylesheet" href="/sentry/css/base.css">

</head>
<body>
  <!-- Fixed navbar -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="/sentry/"><b>// Sentry</b></a>
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/sentry/about">About</a>
          </li>
          <li>
            <a href="/sentry/quickstart">Quickstart</a>
          </li>
          <li>
            <a href="/sentry/configuring">Configuring</a>
          </li>
          <li>
            <a href="/sentry/plugins">Plugins</a>
          </li>
          <li class="dropdown">
              <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">API <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/sentry/sources">Sources</a></li>
                <li><a href="/sentry/services">Services</a></li>
              </ul>
            </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="content">
  
<link rel="stylesheet" type="text/css" href="/sentry/css/markdown.css">

<div class="container markdown-container">
  <div class="row mt">
    <div class="col-md-10 col-md-offset-1">
      <h1 id="writing-sentry-services">Writing Sentry Services</h1>
<p>A Sentry service represents a way of keeping track of metadata about a Git repository. It receives all the files from a repo
when it is activated and whenever the repository changes. After that, you can do anything you like with those files - count them,
parse them, scan them for style violations, whatever. You can also expose REST endpoints so that the data your service collects
is available to other applications.</p>
<p>At its core, a Sentry service is just an NPM module that exposes a service class. So all the normal rules of Node apply -
you can have other modules as dependencies, make helper files, and so on. At a minimum though, a bare-bones sentry service needs
three things: a <code>package.json</code> file, a service class (which will be the module’s export), and an icon file.</p>
<pre><code>sentry-service-awesome
├── icon.png
├── index.js
└── package.json
</code></pre><h2 id="-package-json-"><code>package.json</code></h2>
<p>This is just a regular old package.json file, for the most part; see <a href="https://docs.npmjs.com/files/package.json">the npm docs</a>
if you’re unfamiliar. There are only a few best practices to note here:</p>
<ul>
<li>Your package name should follow the format <code>sentry-service-YOUR-SERVIE-NAME</code>. This makes it easy for others to see your service
name at a glance. Note that the name should be in kebab-case.</li>
<li>Sentry already provides many of the dependencies you’re likely to use, so you can put them in <code>peerDependencies</code>. In particular,
if you want to use <a href="https://github.com/wycats/handlebars.js">handlebars</a> or <a href="https://github.com/jaredhanson/passport">passport</a>,
these should go in <code>peerDependencies</code> so you get the same instance as Sentry.</li>
<li>If you’re publishing to NPM, the keywords for your package should include <code>&quot;sentry&quot;</code>, <code>&quot;service&quot;</code>, and your service’s name.</li>
</ul>
<h2 id="-icon-png-"><code>icon.png</code></h2>
<p>A square icon that Sentry will use to display your service in the UI. 128x128 is a good size.</p>
<h2 id="-index-js-"><code>index.js</code></h2>
<p>This is what your NPM module exposes - a class representing your Sentry service.It is <strong>highly recommended</strong>, though not required, that you implement this class in CoffeeScript, then compile it into a <code>.js</code>
file.</p>
<p>The best way to write a service is to copy <a href="https://github.com/isibner/sentry/blob/master/docs/ServiceTemplate.coffee">this template service</a> into your own project and fill in the method stubs. You can also check <a href="https://github.com/isibner/sentry/#services">the list of existing services</a> for working examples.</p>

    </div>
  </div><!-- /row -->
</div>

  </div>
  
  <script src="/sentry/js/jquery.min.js"></script>
  <script src="/sentry/js/bootstrap.min.js"></script>
  

</body>
</html>
